(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[281],{6316:function(e,t,a){Promise.resolve().then(a.bind(a,7117))},9376:function(e,t,a){"use strict";var s=a(5475);a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}})},7117:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return c}});var s=a(7437),l=a(2265),r=a(7648),o=a(9376),n=a(8734),i=a(9274);function c(){let e=(0,o.useRouter)(),{login:t}=(0,n.a)(),[a,c]=(0,l.useState)({email:"",password:""}),[d,u]=(0,l.useState)({email:"",password:""}),[m,x]=(0,l.useState)(""),[g,p]=(0,l.useState)(!1),h=()=>{let e={email:"",password:""},t=!0;return a.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)||(e.email="Invalid email format",t=!1):(e.email="Email is required",t=!1),a.password||(e.password="Password is required",t=!1),u(e),t},f=async s=>{if(s.preventDefault(),x(""),h()){p(!0);try{let s=await i.U.signin({email:a.email.trim().toLowerCase(),password:a.password});console.log("SIGNIN RESPONSE:",s),t(s.access_token,s.user_id,s.name,s.email),console.log("TOKEN IN LOCALSTORAGE:",localStorage.getItem("token")),e.push("/dashboard")}catch(e){x(e.message||"Login failed")}finally{p(!1)}}};return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"w-full max-w-md",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent mb-2",children:"\uD83D\uDCDD AI Todo Manager"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Welcome back!"})]}),(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-800 text-center",children:"Sign In"}),(0,s.jsx)("p",{className:"text-gray-600 text-center mt-2",children:"Access your tasks and stay productive"})]}),m&&(0,s.jsxs)("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[(0,s.jsx)("svg",{className:"w-5 h-5 text-red-600 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)("p",{className:"text-sm text-red-800",children:m})}),(0,s.jsx)("button",{onClick:()=>x(""),className:"text-red-600 hover:text-red-800",children:(0,s.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),(0,s.jsxs)("form",{onSubmit:f,className:"space-y-5",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,s.jsx)("input",{id:"email",type:"email",value:a.email,onChange:e=>c({...a,email:e.target.value}),className:"w-full px-4 py-3 border ".concat(d.email?"border-red-300":"border-gray-300"," rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-gray-900 bg-white"),placeholder:"you@example.com",autoComplete:"email"}),d.email&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:d.email})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,s.jsx)("input",{id:"password",type:"password",value:a.password,onChange:e=>c({...a,password:e.target.value}),className:"w-full px-4 py-3 border ".concat(d.password?"border-red-300":"border-gray-300"," rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all text-gray-900 bg-white"),placeholder:"Enter your password",autoComplete:"current-password"}),d.password&&(0,s.jsx)("p",{className:"mt-1 text-sm text-red-600",children:d.password})]}),(0,s.jsx)("div",{className:"flex items-center justify-between",children:(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,s.jsx)("span",{className:"ml-2 text-sm text-gray-600",children:"Remember me"})]})}),(0,s.jsx)("button",{type:"submit",disabled:g,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-4 rounded-lg font-semibold hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all transform hover:scale-[1.02] active:scale-[0.98]",children:g?(0,s.jsxs)("span",{className:"flex items-center justify-center gap-2",children:[(0,s.jsxs)("svg",{className:"animate-spin h-5 w-5",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"\uD83D\uDD10 Sign In"})]}),(0,s.jsx)("div",{className:"mt-6 text-center",children:(0,s.jsxs)("p",{className:"text-gray-600",children:["Don't have an account?"," ",(0,s.jsx)(r.default,{href:"/signup",className:"text-blue-600 hover:text-blue-700 font-semibold hover:underline transition-colors",children:"Sign up here →"})]})})]}),(0,s.jsx)("div",{className:"mt-4 text-center",children:(0,s.jsx)(r.default,{href:"/",className:"text-gray-500 hover:text-gray-700 text-sm",children:"← Back to Home"})})]})})}},8734:function(e,t,a){"use strict";a.d(t,{a:function(){return l}});var s=a(2265);function l(){let[e,t]=(0,s.useState)(!1),[a,l]=(0,s.useState)(!0),[r,o]=(0,s.useState)(null),[n,i]=(0,s.useState)(null),[c,d]=(0,s.useState)(null),[u,m]=(0,s.useState)(null);return(0,s.useEffect)(()=>{let e=localStorage.getItem("token"),a=localStorage.getItem("userId"),s=localStorage.getItem("userName"),r=localStorage.getItem("userEmail");e&&a?(o(e),i(parseInt(a)),d(s),m(r),t(!0)):(t(!1),o(null),i(null),d(null),m(null)),l(!1)},[]),{isAuthenticated:e,isLoading:a,token:r,userId:n,userName:c,userEmail:u,user:n?{id:n,name:c||"",email:u||""}:null,login:(e,a,s,l)=>{localStorage.setItem("token",e),localStorage.setItem("userId",a.toString()),localStorage.setItem("userName",s),localStorage.setItem("userEmail",l),o(e),i(a),d(s),m(l),t(!0)},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("userName"),localStorage.removeItem("userEmail"),o(null),i(null),d(null),m(null),t(!1)}}}},9274:function(e,t,a){"use strict";a.d(t,{U:function(){return r}});let s="https://mean-tiger-51.loca.lt";class l{async signup(e){let t=await fetch("".concat(s,"/api/auth/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let e="Signup failed";try{e=(await t.json()).detail||e}catch(e){}throw Error(e)}}async signin(e){let t=await fetch("".concat(s,"/api/auth/signin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){let e="Signin failed";try{e=(await t.json()).detail||e}catch(e){}throw Error(e)}return await t.json()}async logout(){localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("userName"),localStorage.removeItem("userEmail")}}let r=new l}},function(e){e.O(0,[648,971,117,744],function(){return e(e.s=6316)}),_N_E=e.O()}]);